{% extends "layouts/base.html" %}
{% load static %}
{% block title %} Video name: {% endblock title %}

{% block stylesheets %}
<link rel="stylesheet" type="text/css" href="{% static '/home/css/video.css' %}">
<link href="//vjs.zencdn.net/7.3.0/video-js.min.css" rel="stylesheet">
<script src="//vjs.zencdn.net/7.3.0/video.min.js"></script>
<script src="{% static '/home/js/dash.all.min.js'%}"></script>
<script type="module" src="{% static '/home/js/videojs-dash.js'%}"></script>
{% endblock stylesheets %}

{% block content-head %}
<head><h2> {{ video }} </h2></head>
{% endblock content-head %}

{% block content %}
<div class="video-section">
    <div class="video-title">
    </div>
    <div class="player">
        <video id=video-player class="video-js vjs-default-skin" controls></video>
    </div>
    <div class="episode">
        {% for v in video_set %}
            <div class="link"><a href="watch/{{ video.series.uuid }}?e={{ v.episode }}">{{ v.episode }}</a></div>
        {% endfor %}
    </div>
</div>
{% endblock content %}

{% block javascripts %}
<script>
    function setupVideo(){
        let player = videojs('video-player');
        player.src({ src: 'http://127.0.0.3:5000/dash/123.mp4/manifest.mpd', type: 'application/dash+xml'});
    }
</script>
{% endblock javascripts %}